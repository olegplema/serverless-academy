import { Observable } from 'rxjs/dist/cjs/internal/Observable';
import { innerFrom } from 'rxjs/dist/cjs/internal/observable/innerFrom';
import { EMPTY } from 'rxjs/dist/cjs/internal/observable/empty';
export function using(resourceFactory, observableFactory) {
    return new Observable(function (subscriber) {
        var resource = resourceFactory();
        var result = observableFactory(resource);
        var source = result ? innerFrom(result) : EMPTY;
        source.subscribe(subscriber);
        return function () {
            if (resource) {
                resource.unsubscribe();
            }
        };
    });
}
//# sourceMappingURL=using.js.map