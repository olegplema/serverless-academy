import { Subject } from 'rxjs/dist/esm/internal/Subject';
import { innerFrom } from 'rxjs/dist/esm/internal/observable/innerFrom';
import { operate } from 'rxjs/dist/esm/internal/util/lift';
import { fromSubscribable } from 'rxjs/dist/esm/internal/observable/fromSubscribable';
const DEFAULT_CONFIG = {
    connector: () => new Subject(),
};
export function connect(selector, config = DEFAULT_CONFIG) {
    const { connector } = config;
    return operate((source, subscriber) => {
        const subject = connector();
        innerFrom(selector(fromSubscribable(subject))).subscribe(subscriber);
        subscriber.add(source.subscribe(subject));
    });
}
//# sourceMappingURL=connect.js.map