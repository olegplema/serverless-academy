import { EmptyError } from 'rxjs/dist/esm/internal/util/EmptyError';
import { filter } from 'rxjs/dist/esm/internal/operators/filter';
import { take } from 'rxjs/dist/esm/internal/operators/take';
import { defaultIfEmpty } from 'rxjs/dist/esm/internal/operators/defaultIfEmpty';
import { throwIfEmpty } from 'rxjs/dist/esm/internal/operators/throwIfEmpty';
import { identity } from 'rxjs/dist/esm/internal/util/identity';
export function first(predicate, defaultValue) {
    const hasDefaultValue = arguments.length >= 2;
    return (source) => source.pipe(predicate ? filter((v, i) => predicate(v, i, source)) : identity, take(1), hasDefaultValue ? defaultIfEmpty(defaultValue) : throwIfEmpty(() => new EmptyError()));
}
//# sourceMappingURL=first.js.map