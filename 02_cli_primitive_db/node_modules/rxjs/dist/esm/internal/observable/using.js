import { Observable } from 'rxjs/dist/esm/internal/Observable';
import { innerFrom } from 'rxjs/dist/esm/internal/observable/innerFrom';
import { EMPTY } from 'rxjs/dist/esm/internal/observable/empty';
export function using(resourceFactory, observableFactory) {
    return new Observable((subscriber) => {
        const resource = resourceFactory();
        const result = observableFactory(resource);
        const source = result ? innerFrom(result) : EMPTY;
        source.subscribe(subscriber);
        return () => {
            if (resource) {
                resource.unsubscribe();
            }
        };
    });
}
//# sourceMappingURL=using.js.map